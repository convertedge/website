import{P,l as S,z as k,S as A,A as I}from"./s42IwQPo.js";import{d as v,S as w,i as h,w as x,N as j,R as O,r as b,G as u,P as R,L as V,af as T,ag as C,K as B,O as H,U as M,c as N,C as q,F as z}from"./C2PbEHgy.js";const D=v({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(t){return(e,r)=>(h(),w(O(P),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:x(()=>[j(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function G(t){const e=S({dir:b("ltr")});return u(()=>{var r;return(t==null?void 0:t.value)||((r=e.dir)==null?void 0:r.value)||"ltr"})}function _(){const t=b(),e=u(()=>{var r,a;return["#text","#comment"].includes((r=t.value)==null?void 0:r.$el.nodeName)?(a=t.value)==null?void 0:a.$el.nextElementSibling:k(t)});return{primitiveElement:t,currentElement:e}}const g="data-reka-collection-item";function U(t={}){const{key:e="",isProvider:r=!1}=t,a=`${e}CollectionProvider`;let n;if(r){const o=b(new Map);n={collectionRef:b(),itemMap:o},H(a,n)}else n=R(a);const l=(o=!1)=>{const s=n.collectionRef.value;if(!s)return[];const i=Array.from(s.querySelectorAll(`[${g}]`)),d=Array.from(n.itemMap.value.values()).sort((m,y)=>i.indexOf(m.ref)-i.indexOf(y.ref));return o?d:d.filter(m=>m.ref.dataset.disabled!=="")},c=v({name:"CollectionSlot",setup(o,{slots:s}){const{primitiveElement:i,currentElement:p}=_();return B(p,()=>{n.collectionRef.value=p.value}),()=>C(A,{ref:i},s)}}),f=v({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(o,{slots:s,attrs:i}){const{primitiveElement:p,currentElement:d}=_();return V(m=>{if(d.value){const y=T(d.value);n.itemMap.value.set(y,{ref:d.value,value:o.value}),m(()=>n.itemMap.value.delete(y))}}),()=>C(A,{...i,[g]:"",ref:p},s)}}),E=u(()=>Array.from(n.itemMap.value.values())),$=u(()=>n.itemMap.value.size);return{getItems:l,reactiveItems:E,itemMapSize:$,CollectionSlot:c,CollectionItem:f}}function W(t){return u(()=>{var e;return I(t)?!!((e=k(t))!=null&&e.closest("form")):!0})}const F=v({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:r,currentElement:a}=_(),n=u(()=>e.checked??e.value);return B(n,(l,c)=>{if(!a.value)return;const f=a.value,E=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(E,"value").set;if(o&&l!==c){const s=new Event("input",{bubbles:!0}),i=new Event("change",{bubbles:!0});o.call(f,l),f.dispatchEvent(s),f.dispatchEvent(i)}}),(l,c)=>(h(),w(D,M({ref_key:"primitiveElement",ref:r},{...e,...l.$attrs},{as:"input"}),null,16))}}),J=v({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{},value:{},checked:{type:Boolean,default:void 0},required:{type:Boolean},disabled:{type:Boolean},feature:{default:"fully-hidden"}},setup(t){const e=t,r=u(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((a,n)=>typeof a=="object"?Object.entries(a).map(([l,c])=>({name:`[${e.name}][${n}][${l}]`,value:c})):{name:`[${e.name}][${n}]`,value:a}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([a,n])=>({name:`[${e.name}][${a}]`,value:n})):[]);return(a,n)=>(h(!0),N(z,null,q(r.value,l=>(h(),w(F,M({key:l.name,ref_for:!0},{...e,...a.$attrs},{name:l.name,value:l.value}),null,16,["name","value"]))),128))}});export{J as _,_ as a,G as b,W as c,U as u};
